{"version":3,"sources":["scripts/main.js"],"names":["head","document","querySelector","tbody","body","sortBySymbols","rowA","rowB","columnIndex","strA","textContent","strB","localeCompare","sortByName","sortByPosition","sortByOffice","sortByAge","ageA","sortBySalary","salaryA","replace","functionMap","sortColumns","addEventListener","e","rows","querySelectorAll","rowsArr","Array","from","sortingFunction","target","classList","contains","sort","remove","add","forEach","element","append","addActiveClass","row","closest","prevRowActive","form","createElement","method","action","className","inputLabels","label","type","qa","name","inpLabel","input","dataset","required","appendChild","selectLabel","select","options","optionText","option","positionLabel","after","submitBtn","takeForm","addEmployee","preventDefault","formData","FormData","f","Object","fromEntries","entries","length","age","pushNotification","insertAdjacentHTML","position","office","salary","toLocaleString","reset","typeOfMessage","notificationMessage","box","h2","paragraph","setAttribute","setTimeout"],"mappings":"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","file":"main.d5121fa6.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst head = document.querySelector('thead');\nconst tbody = document.querySelector('tbody');\nconst body = document.querySelector('body');\n\n// -----sorting employees-----\nconst sortBySymbols = (rowA, rowB, columnIndex) => {\n  const strA = rowA.querySelector(`td:nth-child(${columnIndex})`).textContent;\n  const strB = rowB.querySelector(`td:nth-child(${columnIndex})`).textContent;\n\n  return strA.localeCompare(strB);\n};\n\nconst sortByName = (rowA, rowB) => sortBySymbols(rowA, rowB, 1);\nconst sortByPosition = (rowA, rowB) => sortBySymbols(rowA, rowB, 2);\nconst sortByOffice = (rowA, rowB) => sortBySymbols(rowA, rowB, 3);\n\nconst sortByAge = (rowA, rowB) => {\n  const ageA = rowA.querySelector('td:nth-child(4)').textContent;\n  const ageB = rowB.querySelector('td:nth-child(4)').textContent;\n\n  return ageA - ageB;\n};\n\nconst sortBySalary = (rowA, rowB) => {\n  const salaryA = +rowA.querySelector('td:nth-child(5)')\n    .textContent.replace(/[^0-9.-]+/g, '');\n\n  const salaryB = +rowB.querySelector('td:nth-child(5)')\n    .textContent.replace(/[^0-9.-]+/g, '');\n\n  return salaryA - salaryB;\n};\n\nconst functionMap = {\n  'Name': sortByName,\n  'Position': sortByPosition,\n  'Office': sortByOffice,\n  'Age': sortByAge,\n  'Salary': sortBySalary,\n};\n\nfunction sortColumns() {\n  head.addEventListener('click', e => {\n    const rows = tbody.querySelectorAll('tr');\n    const rowsArr = Array.from(rows);\n    const sortingFunction = functionMap[e.target.textContent];\n\n    const isAscending = e.target.classList.contains('asc');\n\n    if (isAscending) {\n      rowsArr.sort((rowA, rowB) => sortingFunction(rowB, rowA));\n      e.target.classList.remove('asc');\n      e.target.classList.add('desc');\n    } else {\n      rowsArr.sort(sortingFunction);\n      e.target.classList.remove('desc');\n      e.target.classList.add('asc');\n    }\n\n    head.querySelectorAll('th').forEach(element => {\n      if (element !== e.target) {\n        element.classList.remove('asc', 'desc');\n      }\n    });\n\n    rowsArr.forEach(element => {\n      tbody.append(element);\n    });\n  });\n}\nsortColumns();\n\n// active class\nfunction addActiveClass() {\n  tbody.addEventListener('click', e => {\n    const row = e.target.closest('tr');\n    const isCurrentRowActive = row.classList.contains('active');\n\n    if (!isCurrentRowActive) {\n      const prevRowActive = tbody.querySelector('.active');\n\n      if (prevRowActive) {\n        prevRowActive.classList.remove('active');\n      }\n      row.classList.add('active');\n    } else {\n      row.classList.remove('active');\n    }\n  });\n}\naddActiveClass();\n\n// add form\nconst form = document.createElement('form');\n\nform.method = 'get';\nform.action = '/';\nform.className = 'new-employee-form';\nbody.append(form);\n\nconst inputLabels = [\n  {\n    label: 'Name:',\n    type: 'text',\n    qa: 'name',\n    name: 'name',\n  },\n  {\n    label: 'Position:',\n    type: 'text',\n    qa: 'position',\n    name: 'position',\n  },\n  {\n    label: 'Age:',\n    type: 'number',\n    qa: 'age',\n    name: 'age',\n  },\n  {\n    label: 'Salary:',\n    type: 'number',\n    qa: 'salary',\n    name: 'salary',\n  },\n];\n\ninputLabels.forEach(inpLabel => {\n  const label = document.createElement('label');\n  const input = document.createElement('input');\n\n  label.textContent = inpLabel.label;\n  input.type = inpLabel.type;\n  input.dataset['qa'] = inpLabel.qa;\n  input.name = inpLabel.name;\n  input.required = 'true';\n\n  label.appendChild(input);\n  form.appendChild(label);\n});\n\n// select input\nconst selectLabel = document.createElement('label');\nconst select = document.createElement('select');\n\nselect.dataset['qa'] = 'office';\nselect.name = 'office';\nselect.required = 'true';\nselectLabel.textContent = 'Office:';\n\nconst options = [\n  `Tokyo`,\n  `Singapore`,\n  `London`,\n  `New York`,\n  `Edinburgh`,\n  `San Francisco`,\n];\n\noptions.forEach(optionText => {\n  const option = document.createElement('option');\n\n  option.textContent = optionText;\n  select.append(option);\n});\n\nconst positionLabel = form.querySelector('label:nth-child(2)');\n\npositionLabel.after(selectLabel);\nselectLabel.append(select);\n\n// button\nconst submitBtn = document.createElement('button');\n\nsubmitBtn.textContent = 'Save to table';\nsubmitBtn.type = 'submit';\nform.append(submitBtn);\n\n// add person\nconst takeForm = document.querySelector('.new-employee-form');\n\nfunction addEmployee() {\n  takeForm.addEventListener('submit', e => {\n    e.preventDefault();\n\n    const formData = new FormData(takeForm);\n    const f = Object.fromEntries(formData.entries());\n\n    if (f.name.length < 4 || f.age < 18 || f.age > 90) {\n      pushNotification('error',\n        `Name of employee must be longer than 4 characters`\n        + ` and age must be between 18 - 90 y.o.`\n      );\n    } else {\n      tbody.insertAdjacentHTML('afterbegin', `\n      <tr>\n        <td>${f.name}</td>\n        <td>${f.position}</td>\n        <td>${f.office}</td>\n        <td>${f.age}</td>\n        <td>$${f.salary.toLocaleString('en-US')}</td>\n      </tr>\n    `);\n      pushNotification('success', 'Employee is successfully added');\n      form.reset();\n    }\n  });\n}\naddEmployee();\n\n// notification\nfunction pushNotification(typeOfMessage, notificationMessage) {\n  const box = document.createElement('div');\n  const h2 = document.createElement('h2');\n  const paragraph = document.createElement('p');\n\n  h2.textContent = typeOfMessage;\n  paragraph.textContent = `${notificationMessage}`;\n  box.setAttribute('class', `notification ${typeOfMessage}`);\n  box.dataset['qa'] = 'notification';\n\n  box.append(h2, paragraph);\n  body.append(box);\n\n  setTimeout(() => box.remove(), 4000);\n}\n"]}